# Example Environment Variables

# Redis Configuration
REDIS_PORT=6379

# Monitor Configuration
# A comma-separated list of hostnames or IPs to check for LLM servers.
# Use host.docker.internal to refer to the machine running Docker.
SCAN_HOSTS=host.docker.internal
SCAN_PORTS=9999
SCAN_INTERVAL=60
# Optional concurrency caps for LEAST_LOADED routing
DEFAULT_MAXCONN=0
MAXCONN_MAP=

# Load Balancer Configuration
LOAD_BALANCER_PORT=8000

# Routing and attempts
ROUTING_STRATEGY=P2C
MIN_HEALTHY_NODES=1
REQUEST_TIMEOUT_SECS=60
ATTEMPTS_PER_MODEL=3
RETRY_BACKOFF_MS=50,100

# Circuit breaker
CIRCUIT_BREAKER_THRESHOLD=3
CIRCUIT_BREAKER_COOLDOWN_SECS=60

# Auto selection
MODEL_SENTINELS=auto,default
# Preference order for auto model selection (comma/semicolon separated)
PREFERRED_MODELS=
AUTO_MIN_NODES=2
STRICT_AUTO_MODE=0
LM_PREFER_SMALL=1
CROSS_MODEL_FALLBACK=0

# Stickiness (only applies when x-session-id header is present)
STICKY_SESSIONS_ENABLED=false
STICKY_TTL_SECS=600

# P2C tuning
P2C_ALPHA=0.5
P2C_PENALTY_WEIGHT=2.0

# Hedging (metric scaffolding present; request duplication WIP)
HEDGING_ENABLED=true
HEDGING_SMALL_MODELS_ONLY=true
HEDGING_MAX_DELAY_MS=800
HEDGING_P95_FRACTION=0.6

# Eligibility thresholds
MAX_P95_LATENCY_SECS=5.0
